(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"2b0c":function(t,e,n){"use strict";n.r(e);var i=n("88a2");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("8161");var s,a,c=n("2877"),r=Object(c["a"])(i["default"],s,a,!1,null,null,null);e["default"]=r.exports},"481f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("8938"),o=n("43fa"),s=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r={data:function(){return{version:"",ciid:"",wgtUrl:"".concat((0,o.baseIp)(),"/app/ams.wgt"),apkUrl:"".concat((0,o.baseIp)(),"/app/ams.apk"),wgtVer:"",nowVer:""}},onLaunch:function(){var e=this,n=t.getStorageSync("userInfo")||"";n&&t.getStorage({key:"userInfo",success:function(t){e.login(t.data)}}),this.setIgexin(),this.version=plus.runtime.version,plus.screen.lockOrientation("portrait-primary");var o=plus.push.getClientInfo(),s=o.clientid;this.ciid=s,(0,i.setCid)(s),(0,i.getUserInfo)()&&(0,i.getUserInfo)().userName&&this.setCiid();var a=function(e){var n=e.payload,i=n.split(",");if(n){var o=i[3].substr(3),s=i[4].substr(9),a=i[1].substr(5),c=i[5].substr(18),r=i[0].substr(5),u=i[6].substr(7),l=i[7].substr(9),p="acceptid=".concat(s,"&doc_id=").concat(o,"&pdid=").concat(a,"&piid=").concat(c,"&tiid=").concat(r,"&deptId=").concat(u);"08"==l?setTimeout(function(){t.navigateTo({url:"/pages/application/investigation6/investigation6?".concat(p)})},1e3):"06"==l?setTimeout(function(){t.navigateTo({url:"/pages/application/investigation7/investigation7?".concat(p)})},1e3):"07"==l?setTimeout(function(){t.navigateTo({url:"/pages/application/investigation8/investigation8?".concat(p)})},1e3):"05"==l&&setTimeout(function(){t.navigateTo({url:"/pages/application/investigation9/investigation9?".concat(p)})},1e3)}};plus.push.addEventListener("click",a,!1),plus.push.addEventListener("receive",a,!1)},onShow:function(){},created:function(){var t=this;setTimeout(function(){t.checkUpdate()},800)},methods:a({},(0,s.mapMutations)(["login","setVersion"]),{setIgexin:function(){t.getProvider({service:"push",success:function(e){~e.provider.indexOf("igexin")&&t.subscribePush({provider:"igexin",success:function(t){}})}})},checkUpdate:function(){var e=this;t.request({url:"".concat((0,o.baseIp)(),"/app/version.json"),success:function(t){e.wgtVer=t.data.nhams,plus.runtime.getProperty(plus.runtime.appid,function(t){e.nowVer=t.version,e.setVersion(t.version);var n=t.version.split(".",4),i=e.wgtVer.split(".",4),o=Number(n[0]),s=Number(n[2]),a=Number(i[0]),c=Number(i[2]);o<a?"Android"===plus.os.name&&plus.nativeUI.confirm("有新版本，是否下载安装？",function(t){t.index>0&&plus.runtime.openURL(e.apkUrl)},"版本升级",["取消","确定"]):s<c&&plus.downloader.createDownload(e.wgtUrl,{filename:"_doc/update/"},function(t,e){200==e?(plus.nativeUI.showWaiting("安装升级文件..."),plus.runtime.install(t.filename,{},function(){plus.nativeUI.closeWaiting(),plus.nativeUI.confirm("应用资源更新完成，是否立即重启生效？",function(t){t.index>0&&plus.runtime.restart()},"版本升级",["取消","确定"])},function(t){plus.nativeUI.closeWaiting(),console.log("安装wgt文件失败["+t.code+"]："+t.message," at App.vue:171"),plus.nativeUI.toast("安装wgt文件失败["+t.code+"]："+t.message)})):console.log("下载wgt失败！"," at App.vue:175")}).start()})}})},setCiid:function(){var e="".concat((0,o.baseIp)(),"/ams/system/distribute.htm?module=push_YD&userId=").concat((0,i.getUserInfo)().userName,"&clientId=").concat(this.ciid);t.request({url:e,success:function(t){t.data},fail:function(t){console.log(t," at App.vue:193")}})}})};e.default=r}).call(this,n("6e42")["default"])},8161:function(t,e,n){"use strict";var i=n("c990"),o=n.n(i);o.a},"88a2":function(t,e,n){"use strict";n.r(e);var i=n("481f"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},c990:function(t,e,n){}},[["c34f","common/runtime","common/vendor"]]]);