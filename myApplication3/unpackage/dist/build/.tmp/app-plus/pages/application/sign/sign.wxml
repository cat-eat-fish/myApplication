<view class="content"><block wx:if="{{showErr}}"><view class="showErr"><view>{{"本地标准时间为："+servetime}}</view><view>{{"您的手机时间为："+nowtime}}</view><view>时间相差太大，请调整您的手机时间</view></view></block><block wx:else><view class="page-body"><view class="sign-title"><view class="sign-title-l"><view class="portrait">{{''+$root.g0+''}}</view><view class="text"><view class="name">{{''+name+''}}</view><view data-event-opts="{{[['tap',[['goRule',['$event']]]]]}}" class="gz" bindtap="__e"><text class="t1">考勤组:公司考勤</text><text>查看规则</text></view></view></view><view class="sign-title-r"><view class="date"><picker mode="date" value="{{date}}" data-event-opts="{{[['change',[['bindDateChange',['$event']]]]]}}" bindchange="__e"><view class="uni-input">{{date+''}}<uni-icon vue-id="1" type="arrowdown" bind:__l="__l"></uni-icon></view></picker></view></view></view><view style="text-align:center;padding:20rpx 0;">当前位置:<text>{{address}}</text></view><view class="uni-timeline"><view class="uni-timeline-item uni-timeline-first-item"><view class="uni-timeline-item-divider" style="{{'background:'+(!isAm?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"上午上班时间"+morning_clock_in}}</view><block wx:if="{{isAm}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间 '+amSign.clock_time+''}}<block wx:if="{{amSign.iflegwork=='外勤'}}"><view class="iswq">外勤</view></block><block wx:if="{{amSign.status=='迟到'}}"><view class="iswq">迟到</view></block><block wx:if="{{amSign.status=='早退'}}"><view class="iswq">早退</view></block></view><view><uni-icon vue-id="2" type="location-filled" bind:__l="__l"></uni-icon>{{''+amSign.clock_place}}</view><view data-event-opts="{{[['tap',[['showBz',['amSign']]]]]}}" class="bz last" bindtap="__e">备注<uni-icon style="{{'color:'+('rgb(0, 122, 255)')+';'}}" vue-id="3" type="forward" bind:__l="__l"></uni-icon></view></view></block><block wx:if="{{nowSign==0}}"><view class="content-show"><block wx:if="{{is===true}}"><view><view data-event-opts="{{[['tap',[['clickSign',['morning_clock_in']]]]]}}" class="module CBlue" bindtap="__e"><view class="text">上班打卡</view><view class="time">{{time}}</view></view><block wx:if="{{is}}"><view class="colorGreen" style="text-align:center;">已在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['morning_clock_in']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===false}}"><view><view data-event-opts="{{[['tap',[['clickSign',['morning_clock_in']]]]]}}" class="module CGreen" bindtap="__e"><view class="text">外勤打卡</view><view class="time">{{time}}</view></view><block wx:if="{{!is}}"><view class="colorRed" style="text-align:center;">不在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['morning_clock_in']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===null}}"><view><view class="module CAsh"><view class="text">请检查位置信息</view><view class="time">{{time}}</view></view></view></block></block></block></view></block></view></view></view><view class="uni-timeline-item uni-timeline-first-item"><view class="uni-timeline-item-divider" style="{{'background:'+(isAmOut?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"上午下班时间"+morning_clock_out}}</view><view class="desc-pad"><block wx:if="{{isAmOut}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间 '+amOutSign.clock_time+''}}<block wx:if="{{amOutSign.iflegwork=='外勤'}}"><view class="iswq">外勤</view></block><block wx:if="{{amOutSign.status=='迟到'}}"><view class="iswq">迟到</view></block><block wx:if="{{amOutSign.status=='早退'}}"><view class="iswq">早退</view></block></view><view><uni-icon vue-id="4" type="location-filled" bind:__l="__l"></uni-icon>{{''+amOutSign.clock_place}}</view><view data-event-opts="{{[['tap',[['showBz',['amOutSign']]]]]}}" class="bz last" bindtap="__e">备注<uni-icon style="{{'color:'+('rgb(0, 122, 255)')+';'}}" vue-id="5" type="forward" bind:__l="__l"></uni-icon></view></view></block><block wx:if="{{nowSign==1}}"><view class="content-show"><block wx:if="{{is===true}}"><view><view data-event-opts="{{[['tap',[['clickSign',['morning_clock_out']]]]]}}" class="module CBlue" bindtap="__e"><view class="text">下班打卡</view><view class="time">{{time}}</view></view><block wx:if="{{is}}"><view class="colorGreen" style="text-align:center;">已在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['morning_clock_out']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===false}}"><view><view data-event-opts="{{[['tap',[['clickSign',['morning_clock_out']]]]]}}" class="module CGreen" bindtap="__e"><view class="text">外勤打卡</view><view class="time">{{time}}</view></view><block wx:if="{{!is}}"><view class="colorRed" style="text-align:center;">不在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['morning_clock_out']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===null}}"><view><view class="module CGreen"><view class="text">请检查位置信息</view><view class="time">{{time}}</view></view></view></block></block></block></view></block></view></view></view></view><view class="uni-timeline-item uni-timeline-first-item"><view class="uni-timeline-item-divider" style="{{'background:'+(isPmIn?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"下午上班时间"+afternoon_clock_in}}</view><view class="desc-pad"><block wx:if="{{isPmIn}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间 '+pmInSign.clock_time+''}}<block wx:if="{{pmInSign.iflegwork=='外勤'}}"><view class="iswq">外勤</view></block><block wx:if="{{pmInSign.status=='迟到'}}"><view class="iswq">迟到</view></block><block wx:if="{{pmInSign.status=='早退'}}"><view class="iswq">早退</view></block></view><view><uni-icon vue-id="6" type="location-filled" bind:__l="__l"></uni-icon>{{''+pmInSign.clock_place}}</view><view data-event-opts="{{[['tap',[['showBz',['pmInSign']]]]]}}" class="bz last" bindtap="__e">备注<uni-icon style="{{'color:'+('rgb(0, 122, 255)')+';'}}" vue-id="7" type="forward" bind:__l="__l"></uni-icon></view></view></block><block wx:if="{{nowSign==2}}"><view class="content-show"><block wx:if="{{is===true}}"><view><view data-event-opts="{{[['tap',[['clickSign',['afternoon_clock_in']]]]]}}" class="module CBlue" bindtap="__e"><view class="text">上班打卡</view><view class="time">{{time}}</view></view><block wx:if="{{is}}"><view class="colorGreen" style="text-align:center;">已在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['afternoon_clock_in']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===false}}"><view><view data-event-opts="{{[['tap',[['clickSign',['afternoon_clock_in']]]]]}}" class="module CGreen" bindtap="__e"><view class="text">外勤打卡</view><view class="time">{{time}}</view></view><block wx:if="{{!is}}"><view class="colorRed" style="text-align:center;">不在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['afternoon_clock_in']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===null}}"><view><view class="module CGreen"><view class="text">请检查位置信息</view><view class="time">{{time}}</view></view></view></block></block></block></view></block></view></view></view></view><view class="uni-timeline-item uni-timeline-last-item"><view class="uni-timeline-item-divider" style="{{'background:'+(isPm?'#1AAD19':'#bbb')+';'}}"></view><view class="uni-timeline-item-content"><view><view class="uni-timeline-item-content-t1">{{"下午下班时间"+afternoon_clock_out}}</view><view class="desc-pad"><block wx:if="{{isPm}}"><view class="desc-pad"><view class="time uni-timeline-item-content-t">{{'打卡时间 '+pmSign.clock_time+''}}<block wx:if="{{pmSign.iflegwork=='外勤'}}"><view class="iswq">外勤</view></block><block wx:if="{{pmSign.status=='迟到'}}"><view class="iswq">迟到</view></block><block wx:if="{{pmSign.status=='早退'}}"><view class="iswq">早退</view></block></view><view><uni-icon vue-id="8" type="location-filled" bind:__l="__l"></uni-icon>{{''+pmSign.clock_place}}</view><view data-event-opts="{{[['tap',[['showBz',['pmSign']]]]]}}" class="bz last" bindtap="__e">备注<uni-icon style="{{'color:'+('rgb(0, 122, 255)')+';'}}" vue-id="9" type="forward" bind:__l="__l"></uni-icon></view></view></block><block wx:if="{{nowSign==3}}"><view class="content-show"><block wx:if="{{is===true}}"><view><view data-event-opts="{{[['tap',[['clickSign',['afternoon_clock_out']]]]]}}" class="module CBlue" bindtap="__e"><view class="text">下班打卡</view><view class="time">{{time}}</view></view><block wx:if="{{is}}"><view class="colorGreen" style="text-align:center;">已在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['afternoon_clock_out']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===false}}"><view><view data-event-opts="{{[['tap',[['clickSign',['afternoon_clock_out']]]]]}}" class="module CGreen" bindtap="__e"><view class="text">外勤打卡</view><view class="time">{{time}}</view></view><block wx:if="{{!is}}"><view class="colorRed" style="text-align:center;">不在考勤范围内<text data-event-opts="{{[['tap',[['relocation',['afternoon_clock_out']]]]]}}" class="relocation" bindtap="__e">重新定位</text></view></block></view></block><block wx:else><block wx:if="{{is===null}}"><view><view class="module CGreen"><view class="text">请检查位置信息</view><view class="time">{{time}}</view></view></view></block></block></block></view></block></view></view></view></view></view></view></block><cpimg class="vue-ref" vue-id="10" iscamera="{{true}}" number="{{1}}" fixOrientation="{{true}}" size="{{500}}" maxWidth="{{1000}}" ql="{{0.9}}" type="base64" data-ref="cpimgs" data-event-opts="{{[['^result',[['cpimgOk']]],['^err',[['cpimgErr']]]]}}" bind:result="__e" bind:err="__e" bind:__l="__l"></cpimg><uni-popup vue-id="11" show="{{type==='middle-list'}}" position="middle" mode="fixed" data-event-opts="{{[['^hidePopup',[['togglePopup',['']]]]]}}" bind:hidePopup="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="title" style="padding:20rpx 0;font-weight:bold;width:100%;text-align:center;border-bottom:1px solid #666;">打卡备注</view><view class="content" style="padding:20rpx 10rpx;width:100%;"><text class="text">打卡时间:</text><text>{{bzText.time}}</text><view class="text">打卡地点:</view><view>{{bzText.address}}</view></view><view class="content" style="padding:20rpx 10rpx;width:100%;"><view>{{bzText.remarks}}</view><view><image style="width:200rpx;height:200rpx;" mode="aspectFill" src="{{bzText.img}}"></image></view></view><view data-event-opts="{{[['tap',[['togglePopup',['']]]]]}}" class="bottom" style="padding:20rpx 10rpx;color:cadetblue;width:100%;text-align:center;border-top:1px solid #666;" bindtap="__e">关闭</view></uni-popup></view>