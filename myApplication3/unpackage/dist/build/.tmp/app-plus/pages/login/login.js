(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"386a":function(e,t,n){},"7d74":function(e,t,n){"use strict";n.r(t);var o=n("a284"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=i.a},"95a2":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},a284:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("43fa"),i=n("8938"),a=n("2f62");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){return n.e("components/m-input").then(n.bind(null,"6063"))},c={components:{mInput:u},data:function(){return{providerList:[],hasProvider:!1,account:"",password:"",positionTop:0,userF:!1,passF:!1,version:"",info:{latitude:"",longitude:""}}},computed:(0,a.mapState)(["forcedLogin"]),onLoad:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,function(e){t.version=e.version,t.setVersion(e.version)});var n=(0,i.getUserInfo)();t=this;!0===n.isLogin&&e.reLaunch({url:"/pages/tabBar/mine/mine"})},methods:s({},(0,a.mapMutations)(["login","setVersion"]),{goReg:function(){e.navigateTo({url:"/pages/register/register"})},goF:function(){e.navigateTo({url:"/pages/pwd/pwd"})},setCiid:function(){var t=plus.push.getClientInfo(),n=t.clientid;(0,i.setCid)(n);var a="".concat((0,o.baseIp)(),"/ams/system/distribute.htm?module=push_YD&userId=").concat((0,i.getUserInfo)().userName,"&clientId=").concat(n);e.request({url:a,success:function(e){e.data},fail:function(e){console.log(e," at pages\\login\\login.vue:102")}})},bindLogin:function(){var t=this;if(this.account.length<5)e.showToast({icon:"none",title:"账号最短为 5 个字符"});else if(this.password.length<6)e.showToast({icon:"none",title:"密码最短为 6 个字符"});else{var n={account:this.account,password:this.password};e.showLoading({title:"登录中...",mask:!0});var a=plus.push.getClientInfo().clientid,s=this,r="".concat((0,o.baseIp)(),"/ams/system/distribute.htm?module=login&methodyd=1&username=").concat(n.account,"&password=").concat(n.password,"&clientid=").concat(a);e.request({url:r,success:function(n){var a=n.data;if(e.setStorageSync("type",n.data.msg),e.hideLoading(),1==a.code){if(a.user.headimg){var r=a.user.headimg,u=r.indexOf("ams"),c=r.substring(u);c=c.replace(/\\/g,"/"),r="".concat((0,o.baseIp)(),"/").concat(c),a.user.headimg=r,(0,i.setHeadimg)(r)}(0,i.setUserInfo)(a.user),s.login(),s.setCiid(),e.switchTab({url:"/pages/tabBar/information/information"})}else e.showToast({icon:"none",title:a.message}),t.account="",t.password=""},fail:function(t){console.log(t," at pages\\login\\login.vue:164"),e.hideLoading(),e.showToast({title:t.errMsg,mask:!0,icon:"none"})}})}}})};t.default=c}).call(this,n("6e42")["default"])},ba3a:function(e,t,n){"use strict";n.r(t);var o=n("95a2"),i=n("7d74");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("bdd5");var s=n("2877"),r=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,null,null);t["default"]=r.exports},bdd5:function(e,t,n){"use strict";var o=n("386a"),i=n.n(o);i.a}},[["22be","common/runtime","common/vendor"]]]);