(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/application/reportingProcess/reportingProcess"],{"450c":function(t,e,o){"use strict";o.r(e);var s=o("91e7"),n=o("e996");for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);o("c6ee");var a=o("2877"),r=Object(a["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"64d0":function(t,e,o){},"91e7":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},n=[];o.d(e,"a",function(){return s}),o.d(e,"b",function(){return n})},c6ee:function(t,e,o){"use strict";var s=o("64d0"),n=o.n(s);n.a},d4f6:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o("43ce"),n=o("1ea5"),i=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"b072"))},a={components:{uniPopup:i},data:function(){return{items:[],current:0,items2:[{value:"shi",name:"个人客户"}],current2:0,items3:[{value:"1",name:"是"},{value:"0",name:"否"}],current3:0,items5:[{value:"身份证",name:"身份证"}],current5:0,isShowOther:!0,ishold:!1,isupload:!1,uploadData:[],seq:"",type:"",annexeImg:"",dataInfo:{userType:"",customer_name:"",certNo:"",checkForSpouse:"",spouseName:"",spouseNo:"",applay_reason:""}}},onNavigationBarButtonTap:function(t){this.isKeep()},onLoad:function(t){this.getType(),this.seq=t.mainId?t.mainId:"",this.current3=null==t.ishas?0:1==t.ishas?0:0==t.ishas?1:"",this.isShowOther=0==this.current3,this.dataInfo.checkForSpouse=this.items3[this.current2].value,this.isupload=void 0!=t.isupload,this.ishold=void 0!=t.ishold},watch:{seq:function(t,e){""!=t&&this.getDataImg()}},methods:{togglePopup:function(t){this.type=t},showDataImg:function(){""!=this.uploadData?this.togglePopup("middle-list"):t.showToast({title:"暂无附件",mask:!0,icon:"none"})},showImg:function(t){this.annexeImg=t,this.togglePopup("middle-img"),console.log(t," at pages\\application\\reportingProcess\\reportingProcess.vue:180")},getType:function(){var e=this;t.request({url:"http://"+(0,s.baseIp)()+"/ams/system/distribute.htm?module=pullDown&XLX=useType",success:function(t){var o=t.data;e.items=o.object,e.dataInfo.userType=e.items[e.current].code}})},getDataImg:function(){var e=this;if(""!=this.seq){var o="http://".concat((0,s.baseIp)(),"/ams/system/distribute.htm?module=zllb_YD&mainId=").concat(e.seq);console.log(o," at pages\\application\\reportingProcess\\reportingProcess.vue:199"),t.request({url:o,success:function(t){var o=t.data;e.uploadData=o.object}})}},radioChange:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].code===t.target.value){this.current=e,this.dataInfo.userType=this.items[e].code;break}},radioChange2:function(t){for(var e=0;e<this.items2.length;e++)if(this.items2[e].value===t.target.value){this.current2=e;break}},radioChange3:function(t){for(var e=0;e<this.items3.length;e++)if(this.items3[e].value===t.target.value){this.current3=e,1==e?(this.isShowOther=!1,this.dataInfo.checkForSpouse="0"):(this.isShowOther=!0,this.dataInfo.checkForSpouse="1");break}},radioChange5:function(t){for(var e=0;e<this.items5.length;e++)if(this.items5[e].value===t.target.value){this.current5=e;break}},goUploadPage:function(){var e=this;if(this.ishold){var o=0==this.current3;t.navigateTo({url:"/pages/application/uploadData/uploadData?ishas=".concat(o,"&mainId=").concat(e.seq)})}else t.showToast({title:"请先保存数据，再上传文件！",icon:"none"})},isKeep:function(){var e=this,o=/^((d{18})|([0-9x]{18})|([0-9X]{18}))$/;if(""!=this.dataInfo.customer_name)if(""!=this.dataInfo.certNo)if(o.test(this.dataInfo.certNo)){if("1"==this.dataInfo.checkForSpouse){if(""==this.dataInfo.spouseName)return void t.showToast({title:"请输入配偶名称",icon:"none"});if(""==this.dataInfo.spouseNo)return void t.showToast({title:"请输入配偶证件号码",icon:"none"});if(!o.test(this.dataInfo.spouseNo))return void t.showToast({title:"请正确输入客户证件号",icon:"none"})}else this.dataInfo.spouseName="",this.dataInfo.spouseNo="";var i=this.dataInfo;i.userId=String((0,n.getUserInfo)().userId);var a="http://".concat((0,s.baseIp)(),'/ams/system/distribute.htm?module=saveCredit&credit={userId:"').concat(String(i.userId),'",useType:"').concat(String(i.userType),'",customer_name:"').concat(String(i.customer_name),'",certNo:"').concat(String(i.certNo),'",checkForSpouse:"').concat(String(i.checkForSpouse),'",spouseName:"').concat(String(i.spouseName),'",spouseNo:"').concat(String(i.spouseNo),'",applay_reason:"').concat(String(i.applay_reason),'"}');e=this;t.showModal({title:"是否保存",content:"您还没有保存数据，是否保存？",success:function(o){o.confirm&&(t.showLoading({title:"保存中",mask:!0}),t.request({url:a,success:function(o){var s=o.data;t.hideLoading(),1==s.code&&(e.ishold=!0,e.seq=s.object.seq,t.showToast({title:s.message,mask:!0}))}}))}})}else t.showToast({title:"请正确输入客户证件号",icon:"none"});else t.showToast({title:"请输入客户证件号",icon:"none"});else t.showToast({title:"请输入客户名称",icon:"none"})},submitAcce:function(){if(this.ishold)if(this.isupload){t.showLoading({title:"提交中"});var e=this;t.request({url:"http://".concat((0,s.baseIp)(),"/ams/system/distribute.htm?module=submitZX&id=").concat(e.seq,"&userId=").concat((0,n.getUserInfo)().userId),success:function(e){var o=e.data;1==o.code&&(t.hideLoading(),t.showToast({title:o.message,mask:!0,duration:3e3}),setTimeout(function(){t.reLaunch({url:"/pages/tabBar/information/information"})},3e3))},fail:function(t){console.log(t," at pages\\application\\reportingProcess\\reportingProcess.vue:382")}})}else t.showModal({title:"您还没有上传文件",content:"您还没有上传文件，请先上传！",success:function(t){t.confirm?console.log("用户点击确定"," at pages\\application\\reportingProcess\\reportingProcess.vue:360"):t.cancel&&console.log("用户点击取消"," at pages\\application\\reportingProcess\\reportingProcess.vue:362")}});else t.showModal({title:"您还没有保存",content:"您还没有保存数据，请先保存！",success:function(t){t.confirm?console.log("用户点击确定"," at pages\\application\\reportingProcess\\reportingProcess.vue:348"):t.cancel&&console.log("用户点击取消"," at pages\\application\\reportingProcess\\reportingProcess.vue:350")}})}}};e.default=a}).call(this,o("6e42")["default"])},e996:function(t,e,o){"use strict";o.r(e);var s=o("d4f6"),n=o.n(s);for(var i in s)"default"!==i&&function(t){o.d(e,t,function(){return s[t]})}(i);e["default"]=n.a}},[["fce1","common/runtime","common/vendor"]]]);